<!doctype html>
<html lang="en" data-theme="light">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Demo</title><link rel="stylesheet" href="style.css"/></head>
<body>
  <div class="container">
    <div class="nav">
      <div class="brand"><div class="logo">PHX</div><div><div style="font-weight:800">Team Phoenix</div><div class="small-muted">Interactive Demo</div></div></div>
      <div class="navlinks">
        <a href="index.html">Home</a><a href="demo.html">Demo</a><a href="workflow.html">Workflow</a><a href="impact.html">Impact</a>
      </div>
      <div class="toggle" id="themeToggleD">ðŸŒ— <span class="small-muted">Theme</span></div>
    </div>

    <div class="page">
      <div class="section">
        <div class="left">
          <div class="card">
            <h2>Live Demo (client-side)</h2>
            <p class="lead">Add a demo item â€” this simulates a POST to your backend and shows instant UI update. Great for offline presentations.</p>

            <div style="display:flex;gap:10px;align-items:center;margin-top:12px">
              <input id="title" class="input" placeholder="Title (e.g., Judge Demo)" />
              <button id="addBtn" class="btn">Add</button>
            </div>

            <div id="items" style="margin-top:16px"></div>
          </div>

          <div class="card" style="margin-top:12px">
            <h4>Demo actions</h4>
            <ol style="color:var(--muted)">
              <li>Type a title and click Add</li>
              <li>Show network console (simulate real API)</li>
              <li>Open a "fake PR" drawer to show commit message</li>
            </ol>
            <div style="margin-top:10px">
              <button id="fakePr" class="btn" style="background:transparent;border:1px solid rgba(255,255,255,0.06)">Open Example PR</button>
            </div>
          </div>
        </div>

        <div class="right">
          <div class="card" id="prCard" style="display:none">
            <div style="font-weight:700">PR: Fix demo typo</div>
            <div class="small-muted" style="margin-top:8px">Commit: fix(ui): polish demo card</div>
            <div style="margin-top:10px" class="code">
              - Added smoother animations<br>- Updated README example
            </div>
            <div style="margin-top:12px">
              <button id="merge" class="btn">Merge PR</button>
            </div>
          </div>

          <div class="card" style="margin-top:12px">
            <div style="font-weight:700">CI Status</div>
            <div style="margin-top:8px" class="badge" id="ciBadge">--</div>
            <div class="small-muted" style="margin-top:10px">Trigger: Add item â†’ run tests (simulated)</div>
          </div>
        </div>
      </div>
    </div>

    <div style="height:40px"></div>
    <div class="footer"><div class="small-muted">Team Phoenix â€¢ Demo</div><div></div></div>
  </div>

<script>
(function(){
  const itemsEl = document.getElementById('items');
  const title = document.getElementById('title');
  const addBtn = document.getElementById('addBtn');
  const ciBadge = document.getElementById('ciBadge');
  const prCard = document.getElementById('prCard');
  const fakePr = document.getElementById('fakePr');
  const merge = document.getElementById('merge');

  function render(){
    const list = JSON.parse(localStorage.getItem('demoItems')||'[]');
    itemsEl.innerHTML = list.length ? list.map(it=>`
      <div style="padding:10px;border-radius:10px;margin-bottom:8px;background:linear-gradient(180deg,var(--card),transparent);border:1px solid var(--glass-border)">
        <div style="font-weight:700">${it.title}</div>
        <div style="color:var(--muted);margin-top:6px">${it.desc}</div>
      </div>
    `).join('') : '<div class="small-muted">No demo items yet â€” add one</div>';
  }

  addBtn.addEventListener('click', ()=>{
    const t = title.value.trim() || 'Demo Item';
    const list = JSON.parse(localStorage.getItem('demoItems')||'[]');
    list.unshift({title:t,desc:'Added locally for demo.'});
    localStorage.setItem('demoItems', JSON.stringify(list));
    title.value = '';
    render();
    // simulate CI run
    ciBadge.textContent = 'running...';
    setTimeout(()=>ciBadge.textContent='passing âœ“', 1000);
  });

  fakePr.addEventListener('click', ()=>{ prCard.style.display='block'; });
  merge.addEventListener('click', ()=>{ prCard.style.display='none'; alert('PR merged â€” demo change applied'); });

  // theme toggle
  document.getElementById('themeToggleD').addEventListener('click', ()=>{
    const root = document.documentElement;
    root.setAttribute('data-theme', root.getAttribute('data-theme') === 'light' ? 'dark' : 'light');
  });

  render();
})();
</script>
</body>
</html>

