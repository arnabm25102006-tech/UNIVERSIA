<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>UNIVERSIA â€” Demo (Fixed Clean)</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body{margin:0;font-family:'Poppins',sans-serif;background:#0f1724;color:#e6eefc;}
    header{background:#111827;padding:14px 28px;display:flex;justify-content:space-between;}
    .logo{font-weight:700;font-size:22px}
    nav a{color:#dbeafe;margin-left:18px;text-decoration:none;font-weight:600}
    nav a.active{border-bottom:3px solid #fff;padding-bottom:4px}
    .hero{padding:60px 20px;text-align:center;background:#1f2937;}
    .hero h1{font-size:48px;font-weight:800;margin:0;
      background:linear-gradient(90deg,#60a5fa,#2563eb,#9333ea);
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    .container{max-width:1000px;margin:30px auto;padding:0 20px;}
    .panel{background:#111827;padding:20px;border-radius:12px;margin-bottom:20px;}
    label{display:block;margin:10px 0 4px}
    input,select{width:100%;padding:10px;border-radius:6px;border:1px solid #374151;background:#0f1724;color:#e6eefc;}
    .btn{padding:10px 18px;border-radius:8px;background:#2563eb;color:white;font-weight:700;cursor:pointer;border:none;}
    .progress{height:12px;background:#1f2937;border-radius:8px;overflow:hidden;margin:10px 0;}
    .bar{height:100%;width:0;background:linear-gradient(90deg,#60a5fa,#2563eb);transition:.3s}
    .hidden{display:none}
    .kpis{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-top:14px;}
    .kpi{background:#1f2937;padding:12px;border-radius:8px;text-align:center;}
    canvas{background:#0f1724;border-radius:8px;padding:8px;}
  </style>
</head>
<body>
<header>
  <div class="logo">UNIVERSIA</div>
  <nav>
    <a href="index.html">Home</a>
    <a href="problem.html">Problem</a>
    <a href="solution.html">Solution</a>
    <a href="workflow.html">Workflow</a>
    <a href="demo.html" class="active">Demo</a>
    <a href="impact.html">Impact</a>
  </nav>
</header>

<section class="hero">
  <h1>Live Demo</h1>
  <p>Form â†’ Dashboard with Charts</p>
</section>

<div class="container">
  <!-- Onboarding -->
  <div id="form-section" class="panel">
    <h2>Onboarding Form</h2>
    <div class="progress"><div id="bar" class="bar"></div></div>
    <form id="onboardForm">
      <label for="name">Name</label>
      <input id="name" required>
      <label for="email">Email</label>
      <input id="email" type="email" required>
      <label for="role">Role</label>
      <select id="role" required>
        <option value="">Select</option>
        <option>Student</option>
        <option>Faculty</option>
        <option>Admin</option>
      </select>
      <button class="btn" type="submit">ðŸš€ Submit</button>
    </form>
  </div>

  <!-- Dashboard -->
  <div id="dashboard" class="hidden">
    <div class="panel">
      <h2>Welcome, <span id="userName">User</span></h2>
      <p id="userRole"></p>
      <div class="kpis">
        <div class="kpi"><div>Onboarding</div><h3 id="kpi1">0%</h3></div>
        <div class="kpi"><div>Time Saved</div><h3 id="kpi2">0Ã—</h3></div>
        <div class="kpi"><div>Workload</div><h3 id="kpi3">0%</h3></div>
        <div class="kpi"><div>Satisfaction</div><h3 id="kpi4">0%</h3></div>
      </div>
    </div>
    <div class="panel">
      <h3>Process Breakdown</h3>
      <canvas id="donut"></canvas>
    </div>
    <div class="panel">
      <h3>Adoption Over Time</h3>
      <canvas id="line"></canvas>
    </div>
  </div>
</div>

<script>
  const form = document.getElementById('onboardForm');
  const bar = document.getElementById('bar');
  const formSection = document.getElementById('form-section');
  const dashboard = document.getElementById('dashboard');
  const userName = document.getElementById('userName');
  const userRole = document.getElementById('userRole');

  // progress bar
  form.addEventListener('input', () => {
    let filled = 0;
    if(name.value.trim()) filled++;
    if(email.value.trim()) filled++;
    if(role.value.trim()) filled++;
    bar.style.width = (filled/3*100) + '%';
  });

  // submit
  form.addEventListener('submit', e => {
    e.preventDefault();
    console.log("Form submitted!");
    userName.textContent = document.getElementById('name').value;
    userRole.textContent = "Role: " + document.getElementById('role').value;
    formSection.classList.add('hidden');
    dashboard.classList.remove('hidden');
    animateKPIs();
    initCharts();
  });

  function animateKPIs(){
    animate('kpi1',0,100,'%');
    animate('kpi2',0,3,'Ã—');
    animate('kpi3',0,-60,'%');
    animate('kpi4',0,30,'%');
  }
  function animate(id,start,end,suffix){
    let el=document.getElementById(id),val=start,step=(end-start)/50,i=0;
    let interval=setInterval(()=>{
      val+=step;i++;
      el.textContent=Math.round(val)+suffix;
      if(i>=50) clearInterval(interval);
    },30);
  }

  function initCharts(){
    console.log("Initializing charts...");
    const ctx1=document.getElementById('donut').getContext('2d');
    new Chart(ctx1,{type:'doughnut',
      data:{labels:['Form','Approvals','Automation'],datasets:[{data:[40,35,25],backgroundColor:['#60a5fa','#2563eb','#9333ea']}]},
      options:{plugins:{legend:{labels:{color:'#e6eefc'}}}}
    });
    const ctx2=document.getElementById('line').getContext('2d');
    new Chart(ctx2,{type:'line',
      data:{labels:['Jan','Feb','Mar','Apr','May','Jun'],datasets:[{label:'Adoption %',data:[10,25,50,70,85,95],borderColor:'#60a5fa'}]},
      options:{scales:{y:{min:0,max:100,ticks:{color:'#e6eefc'}},x:{ticks:{color:'#e6eefc'}}}}
    });
  }
</script>
</body>
</html>
